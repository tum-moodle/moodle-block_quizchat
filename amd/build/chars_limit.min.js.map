{"version":3,"file":"chars_limit.min.js","sources":["../src/chars_limit.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript library for the block_quizchat plugin.\n *\n * @package\n * @copyright 2023, TUM ProLehre | Medien und Didaktik <moodle@tum.de>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nvar spaceIndex = $('#charCount').text().indexOf(' ');\nvar spanTxtCharCount = $('#charCount').text().substring(spaceIndex + 1);\n\nexport const resetCharsCount = (maxLen) => {\n    //reset charCount span after message sent\n    $('#charCount').text(maxLen + ' ' + spanTxtCharCount);\n};\n\nexport const checkCharsLength = (maxLen , inputId) => {\n    var currentLen = $(inputId).val().length;\n    var remainChars = maxLen - currentLen;\n    // Stop adding more characters if limit exceeded\n    if (remainChars < 0) {\n      $(inputId).val($(inputId).val().substring(0, maxLen));\n      remainChars = 0;\n    }\n    // Reset the appearance of the message\n    $('#charCount').text(remainChars + ' ' + spanTxtCharCount);\n};\n\nexport const handleWhiteSpaceMsg = (inputTextName) => {\n  var spacesMsg = false;\n  //if white space message\n  if ($(inputTextName).val().replace(/&nbsp;?|&#160;?/g, ' ').trim() === '')\n  {\n      $(inputTextName).val('');\n      spacesMsg = true;\n  }\n  return spacesMsg;\n};\n"],"names":["spaceIndex","text","indexOf","spanTxtCharCount","substring","maxLen","inputId","remainChars","val","length","inputTextName","spacesMsg","replace","trim"],"mappings":";;;;;;;wJAuBIA,YAAa,qEAAE,cAAcC,OAAOC,QAAQ,KAC5CC,kBAAmB,mBAAE,cAAcF,OAAOG,UAAUJ,WAAa,4BAErCK,6BAE1B,cAAcJ,KAAKI,OAAS,IAAMF,6CAGR,CAACE,OAASC,eAElCC,YAAcF,QADD,mBAAEC,SAASE,MAAMC,OAG9BF,YAAc,wBACdD,SAASE,KAAI,mBAAEF,SAASE,MAAMJ,UAAU,EAAGC,SAC7CE,YAAc,uBAGd,cAAcN,KAAKM,YAAc,IAAMJ,gDAGTO,oBAC9BC,WAAY,QAEuD,MAAnE,mBAAED,eAAeF,MAAMI,QAAQ,mBAAoB,KAAKC,6BAEtDH,eAAeF,IAAI,IACrBG,WAAY,GAETA"}